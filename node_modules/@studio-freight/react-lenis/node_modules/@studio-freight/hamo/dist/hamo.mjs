import{useCallback as n,useEffect as t,useState as r,useMemo as e,useRef as o}from"react";import{raf as u}from"@studio-freight/tempus";import{throttle as c}from"throttle-debounce";function i(r,e){var o=n(function(n){r.current&&!r.current.contains(n.target)&&e()},[r,e]);t(function(){if(r.current)return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o,r])}function f(){var n=r(!1),e=n[0],o=n[1];return t(function(){o(!0)},[]),e}function a(){var n=f();return e(function(){return n&&(window.location.href.includes("#debug")||"development"===process.env.NODE_ENV)&&!window.location.href.includes("#production")},[n])}function d(){var n=r(function(){return"undefined"!=typeof document?document.readyState:"loading"}),e=n[0],o=n[1];return t(function(){if("undefined"!=typeof document)return o(document.readyState),document.addEventListener("readystatechange",n,!1),function(){return document.removeEventListener("readystatechange",n,!1)};function n(){o(document.readyState)}},[]),e}function s(n,r){void 0===r&&(r=0),t(function(){if(n)return u.add(n,r),function(){return u.remove(n)}},[n,r])}function v(n,r){var e=o(),u=o();return t(function(){e.current=n}),t(function(){if(null!==r)return u.current=setInterval(function(){e.current()},r),function(){return clearInterval(u.current)}},[r]),function(){return clearInterval(u.current)}}function l(){var e=n(function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},[]),o=r(void 0),u=o[0],c=o[1],i=n(function(){c(e())},[e]);return t(function(){return i(),window.addEventListener("resize",i,{passive:!0}),function(){window.removeEventListener("resize",i,{passive:!0})}},[i]),u}function m(e){var u=void 0===e?{}:e,c=u.root,i=void 0===c?null:c,f=u.rootMargin,a=void 0===f?"0px":f,d=u.threshold,s=void 0===d?1:d,v=u.once,l=void 0!==v&&v,m=o(),p=o(),h=r(!1),w=h[0],g=h[1],y=n(function(n){p.current||(p.current=n)},[]),b=n(function(n){g(n[0].isIntersecting)},[]);return t(function(){return p.current&&(m.current=new IntersectionObserver(b,{root:i,rootMargin:a,threshold:s}),m.current.observe(p.current)),function(){m.current&&m.current.disconnect()}},[b]),t(function(){l&&w&&m.current.disconnect()},[w]),{setRef:y,inView:w}}function p(o){var u=f(),c=e(function(){if(u)try{return window.matchMedia(o)}catch(n){"production"!==process.env.NODE_ENV&&console.error(n)}return null},[o,u]),i=r(void 0),a=i[0],d=i[1],s=n(function(n){d(n.matches)},[]);return t(function(){if(c)return s(c),c.addEventListener("change",s,{passive:!0}),function(){c.removeEventListener("change",s,{passive:!0})}},[c,s,u]),a}function h(){return h=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},h.apply(this,arguments)}function w(n,t){void 0===t&&(t=0);var r=t+n.offsetTop;return n.offsetParent?w(n.offsetParent,r):r}function g(n,t){void 0===t&&(t=0);var r=t+n.offsetLeft;return n.offsetParent?g(n.offsetParent,r):r}function y(e){var u=void 0===e?{}:e,i=u.lazy,f=void 0!==i&&i,a=u.debounce,d=void 0===a?1e3:a,s=o(),v=o(),l=r({}),m=l[0],p=l[1],y=o(m),b=n(function(){if(s.current){var n=w(s.current),t=g(s.current);y.current=h({},y.current,{top:n,left:t}),f||p(y.current)}},[f]);t(function(){var n=c(d,b),t=new ResizeObserver(n);return t.observe(document.body),function(){t.disconnect(),n.cancel({upcomingOnly:!0})}},[d,b]);var E=n(function(n){var t=n[0].contentRect;y.current=h({},y.current,{width:t.width,height:t.height}),f||p(y.current)},[f]),O=n(function(){return y.current},[]);return t(function(){return function(){var n;"development"!==process.env.NODE_ENV&&(null==(n=v.current)||n.disconnect())}},[]),[n(function(n){var t;n&&n!==s.current&&(null==(t=v.current)||t.disconnect(),v.current=new ResizeObserver(E),v.current.observe(n),s.current=n)},[b]),f?O:m]}function b(n,t){void 0===n&&(n=[]),void 0===t&&(t=[]);var r=e(function(){return t&&[t].flat()},[t]),o=e(function(){return n&&[n].flat()},[n]);return e(function(){if(r&&o){var t=o.map(function(n){var t;return null==(t=r.find(function(t){return t.type===n}))?void 0:t.props.children});return n[0]?t:t[0]}},[r,o])}export{a as useDebug,d as useDocumentReadyState,s as useFrame,v as useInterval,f as useIsClient,l as useIsTouchDevice,m as useIsVisible,p as useMediaQuery,i as useOutsideClickEvent,y as useRect,b as useSlots};
//# sourceMappingURL=hamo.mjs.map
