import{useCallback as n,useEffect as e,useState as t,useMemo as r,useRef as o}from"react";import i from"@studio-freight/tempus";import{throttle as c}from"throttle-debounce";function u(t,r){var o=n(function(n){t.current&&!t.current.contains(n.target)&&r()},[t,r]);e(function(){if(t.current)return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o,t])}function a(){var n=t(!1),r=n[0],o=n[1];return e(function(){o(!0)},[]),r}function d(){var n=a();return r(function(){if(n){var e=window.location,t=e.href,r=new URLSearchParams(e.search),o=t.includes("#debug")||t.includes("/_debug")||r.has("debug")||"development"===process.env.NODE_ENV,i=t.includes("#production")||r.has("production");return o&&!i}},[n])}function f(){var n=t(),r=n[0],o=n[1];return e(function(){function n(){o(document.readyState)}return document.addEventListener("readystatechange",n,!1),n(),function(){return document.removeEventListener("readystatechange",n,!1)}},[]),r}function v(n,t){void 0===t&&(t=0),e(function(){if(n)return i.add(n,t),function(){return i.remove(n)}},[n,t])}function s(r,i){var c=void 0===r?{}:r,u=c.root,a=void 0===u?null:u,d=c.rootMargin,f=void 0===d?"0px":d,v=c.threshold,s=void 0===v?0:v,l=c.once,h=void 0!==l&&l,m=c.lazy,w=void 0!==m&&m,b=c.callback,g=void 0===b?function(){}:b;void 0===i&&(i=[]);var p=o({}),z=t({}),E=z[0],y=z[1],L=t(),x=L[0],O=L[1];e(function(){if(x){var n=new IntersectionObserver(function(e){var t=e[0];w?p.current=t:y(t),g(t),h&&t.isIntersecting&&n.disconnect()},{root:a,rootMargin:f,threshold:s});return n.observe(x),function(){n.disconnect()}}},[x,a,f,s,w,h].concat(i));var P=n(function(){return p.current},[]);return[O,w?P:E]}function l(n,t,r){void 0===t&&(t=1e3),void 0===r&&(r=[]),e(function(){var e=setInterval(n,t);return function(){return clearInterval(e)}},[t].concat(r))}function h(){var n=t(),r=n[0],o=n[1];return e(function(){function n(){o("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)}return window.addEventListener("resize",n,!1),n(),function(){window.removeEventListener("resize",n,!1)}},[]),r}function m(n){var r=t(),o=r[0],i=r[1];return e(function(){var e=window.matchMedia(n);function t(){i(e.matches)}return e.addEventListener("change",t,!1),t(),function(){return e.removeEventListener("change",t,!1)}},[n]),o}function w(){return w=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},w.apply(this,arguments)}function b(r,i){var u=void 0===r?{}:r,a=u.lazy,d=void 0!==a&&a,f=u.debounce,v=void 0===f?1e3:f,s=u.box,l=void 0===s?"border-box":s,h=u.callback,m=void 0===h?function(){}:h;void 0===i&&(i=[]);var w=o({}),b=t({}),g=b[0],p=b[1],z=t(),E=z[0],y=z[1];e(function(){if(E){var n=c(v,function(n){var e=n[0];w.current=e,m(e),d||p(e)}),e=new ResizeObserver(n);return e.observe(E,{box:l}),function(){e.disconnect(),n.cancel()}}},[E,d,v,l].concat(i));var L=n(function(){return w.current},[]);return[y,d?L:g]}function g(n,e){void 0===e&&(e=0);var t=e+n.offsetTop;return n.offsetParent?g(n.offsetParent,t):t}function p(n,e){void 0===e&&(e=0);var t=e+n.offsetLeft;return n.offsetParent?p(n.offsetParent,t):t}function z(r,i){var u=void 0===r?{}:r,a=u.ignoreTransform,d=void 0!==a&&a,f=u.lazy,v=void 0!==f&&f,s=u.debounce,l=void 0===s?1e3:s,h=u.resizeDebounce,m=void 0===h?l:h,z=u.callback,E=void 0===z?function(){}:z;void 0===i&&(i=[]);var y=t(),L=y[0],x=y[1],O=t({}),P=O[0],M=O[1],S=o({}),k=b({lazy:!0,debounce:m,callback:function(n){var e=n.borderBoxSize[0].inlineSize,t=n.borderBoxSize[0].blockSize;S.current.width=e,S.current.height=t,E(S.current),v||M(function(n){return w({},n,{width:e,height:t})})}},[v,m].concat(i)),I=k[0];e(function(){if(L){var n=c(l,function(){var n,e;if(d)n=g(L),e=p(L);else{var t=L.getBoundingClientRect();n=t.top+window.scrollY,e=t.left+window.scrollX}S.current.top=n,S.current.left=e,E(S.current),v||M(function(t){return w({},t,{top:n,left:e})})}),e=new ResizeObserver(n);return e.observe(document.body),function(){e.disconnect(),n.cancel()}}},[L,v,l,d].concat(i));var R=n(function(){return S.current},[]);return[function(n){x(n),I(n)},v?R:P]}function E(n,e){void 0===n&&(n=[]),void 0===e&&(e=[]);var t=r(function(){return e&&[e].flat()},[e]),o=r(function(){return n&&[n].flat()},[n]);return r(function(){if(t&&o){var e=o.map(function(n){var e;return null==(e=t.find(function(e){return e.type===n}))?void 0:e.props.children});return n[0]?e:e[0]}},[t,o])}function y(){var n=t(),r=n[0],o=n[1],i=t(),c=i[0],u=i[1];return e(function(){function n(){o(Math.min(window.innerWidth,document.documentElement.clientWidth)),u(Math.min(window.innerHeight,document.documentElement.clientHeight))}return window.addEventListener("resize",n,!1),n(),function(){return window.removeEventListener("resize",n,!1)}},[]),{width:r,height:c}}export{d as useDebug,f as useDocumentReadyState,v as useFrame,s as useIntersectionObserver,l as useInterval,a as useIsClient,h as useIsTouchDevice,m as useMediaQuery,u as useOutsideClickEvent,z as useRect,b as useResizeObserver,E as useSlots,y as useWindowSize};
//# sourceMappingURL=hamo.mjs.map
