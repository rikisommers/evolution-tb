{"version":3,"file":"tempus.js","sources":["../src/index.js"],"sourcesContent":["const isClient = typeof window !== 'undefined'\n\nclass Tempus {\n  constructor() {\n    this.callbacks = []\n    this.now = performance.now()\n    requestAnimationFrame(this.raf)\n  }\n\n  add(callback, priority = 0) {\n    this.callbacks.push({ callback, priority })\n    this.callbacks.sort((a, b) => a.priority - b.priority)\n\n    return () => this.remove(callback)\n  }\n\n  remove(callback) {\n    this.callbacks = this.callbacks.filter(({ callback: cb }) => callback !== cb)\n  }\n\n  raf = (now) => {\n    requestAnimationFrame(this.raf)\n\n    const deltaTime = now - this.now\n    this.now = now\n\n    for (let i = 0; i < this.callbacks.length; i++) {\n      this.callbacks[i].callback(now, deltaTime)\n    }\n  }\n}\n\nif (!isClient) console.warn('Tempus can be used in client side only')\n\nexport default isClient && new Tempus()\n"],"names":["isClient","window","Tempus","_this","raf","now","requestAnimationFrame","deltaTime","i","callbacks","length","callback","this","performance","_proto","prototype","add","priority","_this2","push","sort","a","b","remove","filter","_ref","console","warn","index"],"mappings":"AAAA,IAAMA,EAA6B,oBAAXC,OAElBC,eAAM,WACV,SAAAA,IAAcC,IAAAA,EAiBdC,KAAAA,KAAAA,IAAM,SAACC,GACLC,sBAAsBH,EAAKC,KAE3B,IAAMG,EAAYF,EAAMF,EAAKE,IAC7BF,EAAKE,IAAMA,EAEX,IAAK,IAAIG,EAAI,EAAGA,EAAIL,EAAKM,UAAUC,OAAQF,IACzCL,EAAKM,UAAUD,GAAGG,SAASN,EAAKE,EAEpC,EAzBEK,KAAKH,UAAY,GACjBG,KAAKP,IAAMQ,YAAYR,MACvBC,sBAAsBM,KAAKR,IAC7B,CAAC,IAAAU,EAAAZ,EAAAa,UAWA,OAXAD,EAEDE,IAAA,SAAIL,EAAUM,GAAc,IAAAC,EAAAN,KAI1B,YAJoB,IAARK,IAAAA,EAAW,GACvBL,KAAKH,UAAUU,KAAK,CAAER,SAAAA,EAAUM,SAAAA,IAChCL,KAAKH,UAAUW,KAAK,SAACC,EAAGC,GAAC,OAAKD,EAAEJ,SAAWK,EAAEL,QAAQ,GAExC,WAAA,OAAAC,EAAKK,OAAOZ,EAAS,CACpC,EAACG,EAEDS,OAAA,SAAOZ,GACLC,KAAKH,UAAYG,KAAKH,UAAUe,OAAO,SAAAC,GAAsB,OAAAd,IAAPc,EAAZd,QAAkC,EAC9E,EAACT,CAAA,CAhBS,GA8BPF,GAAU0B,QAAQC,KAAK,0CAE5B,IAAAC,EAAe5B,GAAY,IAAIE"}